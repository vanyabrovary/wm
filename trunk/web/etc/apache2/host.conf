<Perl>
push @{$VirtualHost{'*:80'}}, {
    ServerName                      => '95.134.183.214',
    DocumentRoot                    => '/var/www/web',

    PerlSwitches                    => '-Mlib=/var/www/web/lib',
    PerlOptions                     => '+Parent -ParseHeaders',

    DBDriver                        => 'pgsql',
    DBDParams                       => '"hostaddr=127.0.0.1 host=localhost port=5432 dbname=apacheauth user=apache password=ooo"',
    DBDMin                          => '2',
    DBDKeep                         => '4',
    DBDMax                          => '8',
    DBDExptime                      => '100',

    Location => {
        '/' => {
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',
            PerlResponseHandler     => 'Entry::Index'
        },

        '/admin' => {
            AuthFormProvider        => 'dbd',
            AuthType                => 'form',
            AuthName                => 'private',
            AuthnCacheProvideFor    => 'dbd',
            AuthnCacheContext       => 'my-server',
            Session                 => 'On',
            SessionCookieName       => 'session path=/',
            SessionCryptoPassphrase => 'secret',

            ErrorDocument           => '401 /login',

            Require                 => 'valid-user',
            AuthDBDUserPWQuery      => '"SELECT passwd FROM pgsql_auth WHERE username = %s"',
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',

            PerlResponseHandler     => 'Entry::Admin',
            AllowOverride           => 'None',
        },
        '/logout' => {
            SetHandler              => 'form-logout-handler',
            AuthFormLogoutLocation  => '/',
            Session                 => 'On',
            SessionMaxAge           => '1',
            SessionCookieName       => 'session path=/',
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',
            PerlResponseHandler     => 'Entry::Index',
            AllowOverride           => 'None',
        }
    }
};
</Perl>