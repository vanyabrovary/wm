<Perl>

my $host = 'www.in.ua';

push @{$VirtualHost{'*:8080'}}, {
    ServerName                      => $host,
    DocumentRoot                    => '/var/www/'.$host,
    PerlSwitches                    => '-Mlib=/var/www/'.$host.'/lib',
    ErrorLog 		                => '/var/www/'.$host.'/var/log/error.log',
    ServerAdmin		                => 'admin@'.$host,
    PerlOptions                     => '+Parent -ParseHeaders',
    DBDriver                        => 'mysql',
    DBDParams                       => '"hostaddr=127.0.0.1 host=127.0.0.1 port=3306 dbname=apache user=apache password=jo"',
    DBDMin                          => 3,
    DBDKeep                         => 6,
    DBDMax                          => 18,
    DBDExptime                      => 60,
    DBDPersist                      => 'On',
    Location => {
        '/' => {
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',
            PerlResponseHandler     => 'Entry::Index'
        },
        '/admin' => {
            AuthFormProvider        => 'dbd',
            AuthType                => 'form',
            AuthName                => 'private',
            AuthnCacheProvideFor    => 'dbd',
            AuthnCacheContext       => 'my-server',
            Session                 => 'On',
            SessionCookieName       => 'session path=/',
            SessionCryptoPassphrase => 'my-secret',
            ErrorDocument           => '401 /login',
            Require                 => 'valid-user',
            AuthDBDUserPWQuery      => '"SELECT passwd FROM mysql_auth WHERE username = %s"',
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',
            PerlResponseHandler     => 'Entry::Admin',
            AllowOverride           => 'None',
        },
        '/logout' => {
            SetHandler              => 'form-logout-handler',

            AuthFormLogoutLocation  => '/',
            Session                 => 'On',
            SessionMaxAge           => '1',
            SessionCookieName       => 'session path=/',
            SetHandler              => 'perl-script',
            SetInputFilter          => 'apreq2',

            PerlResponseHandler     => 'Entry::Index',
            AllowOverride           => 'None',
        }
    }
};

</Perl>