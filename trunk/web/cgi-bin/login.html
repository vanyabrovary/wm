<html>
<head>
    <title>Change password</title>
    <link rel="stylesheet" type="text/css" href="https://ssh.in.ua/jqw17/styles/jqx.base_glacier.min.css" />
    <style>.form {list-style-type: none; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; } .form li {margin: 0; padding-top: 5px; width: 100%; } .jqxTabs {list-style-type: none; } </style>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>

    /**** Common settings ****/
    var theme        = 'glacier';
    var input_height = 20;
    var input_width  = 96;

    var email_style = { width: input_width + '%',   height: input_height + 'pt', theme: theme, placeHolder: "Email" };
    var pass_style  = { width: input_width + '%',   height: input_height + 'pt', theme: theme, placeHolder: "Password" };
    var btn_style   = { width: input_width,         height: input_height + 'pt', theme: theme };

    function afterResp() { $('#jqxLoader').jqxLoader('close'); }
    function beforeResp() { $('#jqxLoader').jqxLoader('open'); }

    function debug(data, template) {
        $("#debug").html('');
        $("#cDebug").jqxNotification({theme:theme, template:template, position:'bottom-left', width:'auto', autoOpen:false, autoClose:true, autoCloseDelay:3000 });
        $("#debug").html(data);
        $("#cDebug").jqxNotification("open");
    }

    $(document).ready(function() {
        /**** Login ****/
        $("#email").jqxInput(email_style);
        $("#password").jqxPasswordInput(pass_style);
        $("#login_btn").jqxButton(btn_style);
        $("#login_btn").click(function() {
            $("#inForm").jqxValidator("validate");
        });
        $("#inForm").jqxValidator({
            rules: [
                { input: "#email",    message: "*", action: "keyup, blur", rule: 'required' },
                { input: "#password", message: "*", action: "keyup, blur", rule: 'required' }
            ],
            hintType: "tooltip"
        });
        $('#inForm').on('validationSuccess', function(event) {
            var posting = $.post('', {
                'httpd_username': $('#email').val(),
                'httpd_password': $('#password').val()
            });
            posting.done(function(json) {
                debug('Success!', 'success');
                document.location.href = "/admin/";
                return false;
            });
            posting.fail(function(json) {
                debug('Server response 500!', 'error');
            });
        });
        /**** Register ****/
        $("#user").jqxInput(email_style);
        $("#pass").jqxPasswordInput(pass_style);
        $("#register_btn").jqxButton(btn_style);
        $("#register_btn").click(function() {$("#regForm").jqxValidator("validate");});
        $('#regForm').on('validationSuccess', function(event) { $('#regForm').ajaxSubmit({success: showResp, beforeSubmit: beforeResp}); return false; });
        $("#regForm").jqxValidator({ rules: [ {input: "#user", message: "*", action: "keyup, blur", rule: 'required'}, {input: "#pass", message: "*", action: "keyup, blur", rule: 'required'} ], hintType: "tooltip" });
        /* Tabs */
        $('#jqxTabs').jqxTabs({ theme: theme });
        /* Loader */
        $("#jqxLoader").jqxLoader({ text: "Sending", width: '56', height: '56', theme: theme });
    });

    </script>
</head>

<body>

<table width="100%">
<tr>
<td width="40%">&nbsp;</td>
<td width="20%">

<div id="jqxTabs" style="padding:5px;">

<ul class="jqxTabs">
<li>Login</li>
<li>Registration</li>
</ul>

<div>
<form id="inForm" name="inForm" action="" method="post">
<ul class="form">
    <li><input type="text"     id="email"           name="httpd_username" value="" />
    <li><input type="password" id="password"    name="httpd_password" value="" />
    <li><input id="login_btn" type="button" value="Login">
</ul>
</form>
</div>

<div>
<form id="regForm" name="regForm" action="/register" method="post">
<ul class="form">
    <li><input type="text" id="user" name="user">
    <li><input type="password" id="pass" name="pass" type="password">
    <li><input id="register_btn" type="button" value="Register">
</ul>
</form>
</div>
</div>
<td>
<td width="40%">&nbsp;</td>
</tr>
</table>
<div id="jqxLoader"></div>
<div id="cDebug"><span id="debug"></span></div>
<script type="text/javascript" src="https://ssh.in.ua/jqw17/jqx-all.js"></script>
</body>
</html>